<openerp>
	<data>




<!-- FORM -->
		<record model="ir.ui.view" id="openhealth.marketing_form_view">
			<field name="name">marketing.form</field>           
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<form string="Marketing Form">


<!-- Header -->
					<header>


						<!-- Update -->
                        <button 
                                type="object" 
                                class="oe_highlight"

                                name="update"

                                string="Actualizar"                             
                        />



						<!-- Update Patients -->
						<button 
								type="object" 
								class="oe_highlight"
								name="update_patients"

								string="Act Pacientes"                               
						/>

						<!-- Update Sales -->
<!--						
						<button 
								class="oe_highlight"
								type="object"

								name="update_sales"

								string="Act Ventas" 
						/>
-->

						<!-- Update Sales -->
						<button 
								class="oe_highlight"
								type="object"

								name="update_sales"

								string="Act Ventas" 
						/>




						<!-- See Sales -->
						<button 
								class="oe_highlight"
								type="action" 
								context="{
											'search_default_marketing_id': active_id,   
											'state': 'sale',   
										}"
										
								name="%(sale_line_form_action)d"

								string="Ver Ventas"
						/>


						<!-- See Drafts -->
						<button 
								class="oe_highlight"
								type="action"

								context="{
											'search_default_marketing_id': active_id,   
											'state': 'draft',   
										}"
										
								name="%(sale_line_draft_form_action)d"

								string="Ver Presupuestos"
						/>



						<!-- See Patients -->
						<button 
								class="oe_highlight"
								type="action" 
								context="{
											'search_default_marketing_id': active_id,   
										}"

								name="%(patient_line_proc_form_action)d"

								string="Ver Pacientes"  
						/>



						<!-- Create Sale Lines -->
						<!-- Analyse Sale Lines -->
						<!-- Analyse patient Lines -->

<!--
						<button 
								class="oe_highlight"
								type="object" 
								name="create_sale_lines"

								string="Create SL" 

								groups="openhealth.roots"
						/>
-->
<!--
						<button 
								class="oe_highlight"
								type="object" 

								name="analyse_sale_lines"

								string="Analyse SL" 

								groups="openhealth.roots"
						/>


						<button 
								class="oe_highlight"
								type="object" 

								name="analyse_patient_lines"

								string="Analyse Pat Lines" 

								groups="openhealth.roots"
						/>
-->






						<!-- Vip -->
						<button 
								class="oe_highlight"
								type="action" 
								context="{                                          
											'search_default_marketing_id': active_id,   
										}"                                          
								name="%(patient_line_vip_form_action)d"
								string="Vip"    
						/>

						<!-- Vip No -->
						<button 
								class="oe_highlight"
								type="action"
								name="%(patient_line_vip_no_form_action)d" 
								context="{                                          
											'search_default_marketing_id': active_id,   
										}"
								string="No Vip" 
						/>




<!-- RIGHT -->
						<!-- Reset -->
						<button 
								class="oe_highlight oe_right"
								type="object" 

								name="reset"

								string="Reset"    
						/>

						<!-- Clean -->
<!--						
						<button 
								class="oe_highlight oe_right"
								type="object" 

								name="clean"

								string="CLEAN !"    
						/>
-->



						<!-- Update Recos -->
<!--
						<button 
								class="oe_highlight oe_right"
								type="object" 
								name="update_recos"

								string="Actualizar Recomendaciones"    
						/>
-->



						<!-- City -->
						<button 
								class="oe_highlight oe_right"
								type="action"
								name="%(city_line_form_action)d"
								context="{
											'search_default_marketing_id': active_id,   
										}"
								string="Ciudades"   
						/>


						<!-- District -->
						<button 
								class="oe_highlight oe_right"
								type="action"
								name="%(district_line_form_action)d"
								context="{
											'search_default_marketing_id': active_id,   
										}"
								string="Distritos"  
						/>

						<!-- Media -->
						<button 
								class="oe_highlight oe_right"
								type="action"                               
								name="%(media_line_form_action)d" 
								context="{
											'search_default_marketing_id': active_id,   
										}"
								string="Medios" 
						/>

						<!-- Age Histogram -->
						<button 
								class="oe_highlight oe_right"                               
								type="action" 
								name="%(histo_line_form_action)d" 
								context="{
											'search_default_marketing_id': active_id,   
										}"
								string="Edades" 
						/>


					</header>




<!-- Sheet -->
					<sheet>

						<!-- Total -->
						<group  string="Total"  col="3">
							<group>
								<field name="name"/>
								<field name="date_begin"/>
								<field name="date_end"/>
								<field name="mode"/>
								<field name="state"/>
							</group>
							<group>
								<field name="total_count"   string="Pacientes Nuevos"/>
							</group>

							<group>
								<field name="sale_line_sale_count"/>
								<field name="sale_line_consultation_count"/>
								<field name="sale_line_procedure_count"/>
								<field name="sale_line_product_count"/>
								<field name="sale_line_budget_count"/>
							</group>
						</group>
<!--
							<group  groups="openhealth.roots">
							<group>
								<field name="patient_sale_count"/>
								<field name="patient_consu_count"/>
								<field name="patient_proc_count"/>
								<field name="patient_product_count"/>
								<field name="patient_budget_count"/>
							</group>
-->



<!-- Counters -->
						<group  string="Estadistica"  col="3">
							<group>
								<field name="sex"	nolabel="0"/>
								<field name="vip"	nolabel="0"/>
								<field name="age"	nolabel="0"/>
							</group>
							<group>
								<field name="education"	nolabel="0"/>
							</group>
							<group>
								<field name="origin"	nolabel="0"/>
								<field name="first_contact"	nolabel="0"/>
							</group>
						</group>




						<!-- Vip -->
						<group string="Vip">
							<group>
								<field name="vip_already_true"	string="Vip por venta anterior"/>
								<field name="vip_true"	string="Vip por venta mes"/>
								<field name="vip_false"	string="No Vip"/>
							</group>
							<group>                             
								<field name="vip_already_true_per"	string="Vip por venta anterior %"	widget="percentage"/>
								<field name="vip_true_per"	string="Vip por venta mes %"			widget="percentage"/>
								<field name="vip_false_per"	string="No Vip %"		widget="percentage"/>
							</group>
						</group>


						<!-- Sex -->
						<group  col="2" 	string="Sexo">
							<group>
								<field name="sex_male"		string="Masculino"/>
								<field name="sex_female"	string="Femenino"/>
								<field name="sex_undefined"	string="Incompleto"/>
							</group>
							<group>
								<field name="sex_male_per"		string="Masculino %"	widget="percentage"/>
								<field name="sex_female_per"	string="Femenino %"		widget="percentage"/>
								<field name="sex_undefined_per"	string="Incompleto %" 	widget="percentage"/>
							</group>
						</group>


						<!-- Age -->
						<group  string="Edad">
							<group>
								<field name="age_mean"	string="Promedio"	/>
								<field name="age_min"	string="Minimo"/>
								<field name="age_max"	string="Maximo"	/>
							</group>
							<group>
								<field name="age_undefined"		string="Error"/>
								<field name="age_undefined_per"	string="Error %"	widget="percentage"/>
							</group>
						</group>



<!-- Notebook --> 
						<notebook>  

							<!-- Patients --> 
							<page   string="Pacientes">
								<field name="patient_line">
									<tree string="Pacientes"    limit="1000">
										<field name="patient"/>
										<field name="sex"/>
										<field name="age_years"/>
										<field name="date_record"/>
										<field name="first_contact"/>
										<field name="education"/>
										<field name="country"/>
										<field name="city"/>
										<field name="district"/>
										<field name="vip"/>
									</tree>
								</field>
							</page>


							<!-- Stats --> 
							<page   string="Estadistica">

								<!-- First Contact -->
								<group  string="Primer Contacto">
									<group>                             
										<field name="how_none"  string="Ninguno"/>
										<field name="how_reco"  string="RecomendaciÃ³n"/>
										<field name="how_tv"    string="Tv"/>
										<field name="how_radio" string="Radio"/>
										<field name="how_inter" string="Internet"/>
										<field name="how_web"   string="Web"/>
										<field name="how_mail"  string="Mail"/>

										<field name="how_u"     string="No Definido"	groups="openhealth.roots"		/>

										<field name="vspace"/>

										<field name="how_facebook"/>
										<field name="how_instagram"/>
										<field name="how_callcenter"/>
										<field name="how_old_patient"/>
									</group>

									<group>                                                             
										<field name="how_none_per"		widget="percentage"/>
										<field name="how_reco_per"		widget="percentage"/>
										<field name="how_tv_per"		widget="percentage"/>
										<field name="how_radio_per"		widget="percentage"/>


										<field name="how_inter_per"		widget="percentage"/>
										<field name="how_web_per"		widget="percentage"/>
										<field name="how_mail_per"		widget="percentage"/>

										<field name="how_u_per"			widget="percentage"	groups="openhealth.roots"/>

										<field name="vspace"/>

										<field name="how_facebook_per"	widget="percentage"/>
										<field name="how_instagram_per"	widget="percentage"/>
										<field name="how_callcenter_per"	widget="percentage"/>
										<field name="how_old_patient_per"	widget="percentage"/>
									</group>
								</group>





								<!-- Education -->
								<group  string="Nivel de EducaciÃ³n">
									<group>
										<field name="edu_fir"   string="Primaria"/>
										<field name="edu_sec"   string="Secundaria"/>
										<field name="edu_tec"   string="Instituto"/>
										<field name="edu_uni"   string="Universidad"/>
										<field name="edu_mas"   string="Posgrado"/>
										<field name="edu_u"     string="No Definido"/>
									</group>
									<group>                             
										<field name="edu_fir_per"	widget="percentage"/>
										<field name="edu_sec_per"	widget="percentage"/>
										<field name="edu_tec_per"	widget="percentage"/>
										<field name="edu_uni_per"	widget="percentage"/>
										<field name="edu_mas_per"	widget="percentage"/>
										<field name="edu_u_per"		widget="percentage"/>
									</group>
								</group>
							</page>



<!--
										<field name="date_create"/>
										<field name="dob"/>
										<field name="age"/>
										<field name="name"/>
										<field name="date_create"/>
										<field name="count"/>
-->




							<!-- Age Histogram --> 
							<page   string="Edades">

								<field name="histo_line">

									<tree string="Histograma"   limit="1000"    >   

										<field name="idx"/>

										<field name="x_bin_name"/>

										<field name="count"/>

										<field name="percentage"/>

										<field name="total"/>
									</tree>
								</field>
							</page>





							<!-- Districts --> 
							<page   string="Distritos">

								<field name="district_line">

									<tree string="Distrito" limit="1000"    default_order='count desc'  >   
										
										<field name="name"/>

										<field name="count"	string="Nr Pacientes"/>
									</tree>
								</field>
							</page>


							<!-- Cities --> 
							<page   string="Ciudades">

								<field name="city_line">

									<tree string="Ciudad"   limit="1000"    default_order='count desc'  >   
										
										<field name="name"/>

										<field name="count"	string="Nr Pacientes"/>
									</tree>
								</field>
							</page>


							<!-- Countries --> 
							<page   string="PaÃ­ses">
								<field name="country_line">
									<tree string="Pais" limit="1000"        default_order='count desc'  >   
										
										<field name="name"/>

										<field name="count"	string="Nr Pacientes"/>
									</tree>
								</field>
							</page>


							<!-- Admin --> 
<!--
							<page   string="Admin"  groups="openhealth.roots">
-->
							<page   string="Admin">
								<group>
									<group>
										<field name="year"/>
										<field name="owner"/>
										<field name="month"/>
									</group>

									<group>
										<field name="test_obj"				groups="openhealth.roots"/>
										<field name="price_list_2019_count"	groups="openhealth.roots"/>
										<field name="price_list_2018_count"	groups="openhealth.roots"/>
									</group>

								</group>
							</page>


							<!-- Stats --> 
<!--							
							<page   string="Ventas"		groups="openhealth.roots">
-->
							<page   string="Ventas">
								<field name="sale_line"/>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>





	   
<!-- TREE -->
		<record model="ir.ui.view" id="openhealth.marketing_view_tree">
			<field name="name">openhealth.marketing.tree</field>
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<tree string="Marketing Tree">



					<field name="name"/>

					<field name="state"/>
					<field name="date_test"/>



					<field name="write_date"        string="Actualizado"	groups="openhealth.roots"/>




					<field name="month"/>
					<field name="year"/>
					<field name="owner"         groups="openhealth.roots"/>

					<field name="date_begin"    string="Fecha Inicio"/>
					<field name="date_end"      string="Fecha Fin"/>




					<field name="total_count"	sum="Total Pacientes Nuevos" widget="monetary"/>

					<field name="patient_sale_count"/>

					<field name="patient_consu_count"/>

					<field name="patient_budget_count"/>

					<field name="patient_proc_count"/>

					<field name="patient_reco_count"/>
				</tree>
			</field>
		</record>
<!--
					<field name="test_obj"	groups="openhealth.roots"/>

					<field name="delta_patients"      groups="openhealth.roots"/>
					<field name="delta_sales"         groups="openhealth.roots"/>
					<field name="delta_recos"         groups="openhealth.roots"/>
-->





<!-- TREE - First Contact --> 
		<record model="ir.ui.view" id="view_marketing_first_contact_tree">
			<field name="name">openhealth.marketing.tree</field>
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<tree string="Marketing Tree">
					<field name="name"/>

					<field name="how_facebook_per"	widget="percentage"/>
					<field name="how_instagram_per"	widget="percentage"/>
					<field name="how_callcenter_per"	widget="percentage"/>
					<field name="how_old_patient_per"	widget="percentage"/>

					<field name="how_inter_per"		widget="percentage"/>
					<field name="how_web_per"		widget="percentage"/>
					<field name="how_mail_per"		widget="percentage"/>
					<field name="how_reco_per"		widget="percentage"/>
					<field name="how_tv_per"		widget="percentage"/>
					<field name="how_radio_per"		widget="percentage"/>
					<field name="how_none_per"		widget="percentage"/>
					<field name="how_u_per"			widget="percentage"/>
				</tree>
			</field>
		</record>

<!-- TREE - First Contact Nr --> 
		<record model="ir.ui.view" id="view_marketing_first_contact_nr_tree">
			<field name="name">openhealth.marketing.tree</field>
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<tree string="Marketing Tree">
					<field name="name"/>

					<field name="how_facebook"		sum="Total Facebook"/>
					<field name="how_instagram"		sum="Total Instagram"/>
					<field name="how_callcenter"	sum="Total Call Center"/>
					<field name="how_old_patient"	sum="Total Paciente Antiguo"/>

					<field name="how_inter"		sum="Total Internet"/>
					<field name="how_web"		sum="Total Web"/>
					<field name="how_mail"		sum="Total Mail"/>
					<field name="how_reco"		sum="Total RecomendaciÃ³n"/>
					<field name="how_tv"		sum="Total TV"/>
					<field name="how_radio"		sum="Total Radio"/>
					<field name="how_none"		sum="Total Ninguno"/>
					<field name="how_u"			sum="Total Error"/>
				</tree>
			</field>
		</record>







<!-- TREE Education Level --> 
		<record model="ir.ui.view" id="view_marketing_education_level_tree">
			<field name="name">openhealth.marketing.tree</field>
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<tree string="Marketing Tree">
					<field name="name"/>
					<field name="edu_fir_per"/>
					<field name="edu_sec_per"/>
					<field name="edu_tec_per"/>
					<field name="edu_uni_per"/>
					<field name="edu_mas_per"/>
					<field name="edu_u_per"/>
				</tree>
			</field>
		</record>




<!-- TREE - Sex --> 
		<record model="ir.ui.view" id="view_marketing_sex_tree">
			<field name="name">openhealth.marketing.tree</field>
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<tree string="Marketing Tree">
					<field name="name"/>
					<field name="sex_female_per"	widget="percentage"/>
					<field name="sex_male_per"		widget="percentage"/>
					<field name="sex_undefined_per"	widget="percentage"/>
				</tree>
			</field>
		</record>

<!-- TREE - Sex --> 
		<record model="ir.ui.view" id="view_marketing_sex_nr_tree">
			<field name="name">openhealth.marketing.tree</field>
			<field name="model">openhealth.marketing</field>
			<field name="arch" type="xml">
				<tree string="Marketing Tree">
					<field name="name"/>
					<field name="sex_female"	sum="Total Femenino"/>
					<field name="sex_male"		sum="Total Masculino"/>
					<field name="sex_undefined"	sum="Total No Definido"/>
				</tree>
			</field>
		</record>




	</data>
</openerp>
