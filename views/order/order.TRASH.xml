<!--
3 Sep 2019
It is better if all views are declared in Openhealth.

-->



<!-- FORM -->
		<record model="ir.ui.view" id="view_order_form">
			<field name="name">sale.order.form</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="openhealth.view_order_form"/>
			<field name="mode">primary</field>
			<field name="priority">1</field>
			<field name="arch" type="xml">


<!-- PRICELIST BUTTONS --> 				
				<xpath expr="//field[@name='state']" position="before">

					<!-- Add Prod -->
					<button 
							type="object"
							class="oe_highlight"

							name="pl_open_product_selector_product"

							states="draft"

							string="Agregar PRODUCTO - 2019"
						/>

					<!-- Add Serv -->
					<button 
							type="object"
							class="oe_highlight"

							name="pl_open_product_selector_service"
							
							states="draft"

							string="Agregar SERVICIO - 2019"
						/>

					<!-- Clean Lines -->
					<button 
							type="object"
							class="oe_highlight"
							attrs="{'invisible':[   '|',
													('x_admin_mode','not in',[True]),
													('state','not in',['sale', 'credit_note']), 
											]}"

							name="clean_order_lines"

							string="Eliminar Lineas de Venta"

							help="Esta operación va a eliminar TODAS las Líneas de Venta !!!"

							confirm="Esta operación va a eliminar TODAS las Líneas de Venta !!!"
						/>
				</xpath>

			</field>
		</record>






<!--
29 Aug 2019
-->


<!-- 29 Jul 2019 -->
<!--
				<xpath expr="//field[@name='x_partner_vip']" position="after">
				</xpath>

				<xpath expr="//tree/field[@name='name']" position="after">
				</xpath>

				<xpath expr="//field[@name='x_admin_mode']" position="replace">
				</xpath>



				<xpath expr="//tree/field[@name='product_id']" position="before">
				    <button 
				        type="object" 
				        class="oe_highlight"    
				        name="open_line_current" 
				        string="E"
				    />
					<field name="state"/>
				</xpath>
-->





<!-- TREE --> 
		<record model="ir.ui.view" id="sale.view_order_tree">
			<field name="name">sale.order.tree</field>
			<field name="model">sale.order</field>
			<field name="arch" type="xml">

				<tree string="Order Tree"
						colors="
						red:state=='draft';
						green:state=='credit_note';
						blue:state=='sale';
						grey:state in ('cancel')
						">

					<field name="pl_price_list"	string="Lista de Precios"  	groups="openhealth.roots"/>
					<field name="name"          string="Referencia"/>
					<field name="date_order"            string="Fecha y hora"/>

					<field name="patient"/>
					<field name="x_doctor"/>
					<field name="treatment"/>
					<field name="nr_lines"/>

					<field name="x_serial_nr"/>
					<field name="x_type" />
					<field name="state"/>


					<field name="amount_total"     	sum="Total Montos"/>
					<field name="x_total_net"/>
					<field name="x_total_tax"/>

					<field name="x_id_doc_type"/>
					<field name="x_id_doc"/>
					<field name="x_ruc"/>

					
					<field name="pl_family"		string="Familia"/>
<!--
					<field name="pl_product"	string="Producto"/>
-->
					<field name="user_id"       string="Creado por"/>

				</tree>
			</field>
		</record>

<!--
					<field name="x_amount_flow"     sum="Total Flujos"/>
					<field name="x_credit_note"/>
					<field name="x_credit_note_type"/>
					<field name="x_credit_note_amount"/>
					<field name="x_block_flow"/>

					<field name="x_counter_value"   groups="openhealth.roots"/>
					<field name="x_electronic"  groups="openhealth.roots"/>
					<field name="x_day_order"   groups="openhealth.roots"/>
					<field name="x_month_order"           groups='openhealth.roots'   />

					<field name="x_family"/>
					<field name="x_product"/>
-->







<!-- Not loaded -->


<!--
			<field name="inherit_id" ref="sale.view_order_form"/>
			<field name="inherit_id" ref="openhealth.view_order_form"/>
-->
